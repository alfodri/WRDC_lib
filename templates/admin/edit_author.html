{% extends "base.html" %}

{% block title %}Edit Author - WRDC Library{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        max-width: 800px;
        margin: 2rem auto;
    }
    .form-card {
        background: #fff;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }
    .current-image {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 50%;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">
        <h1 class="mb-4 text-center">Edit Author Profile</h1>

        <div class="form-card">
            <form method="POST" enctype="multipart/form-data">
                <div class="row align-items-center mb-4">
                    <div class="col-md-3 text-center">
                        {% if author.image %}
                        <img src="{{ url_for('static', filename='uploads/authors/' + author.image) }}" 
                             class="current-image" alt="{{ author.name }}">
                        {% else %}
                        <div class="current-image bg-light d-flex align-items-center justify-content-center">
                            <i class="fas fa-user fa-3x text-muted"></i>
                        </div>
                        {% endif %}
                    </div>
                    <div class="col-md-9">
                        <div class="form-group">
                            <label for="author_name" class="font-weight-bold">Author Name</label>
                            <input type="text" class="form-control" id="author_name" name="author_name" value="{{ author.name }}" required>
                        </div>
                        <div class="form-group mb-0">
                            <label for="author_picture" class="font-weight-bold">Update Profile Picture</label>
                            <input type="file" class="form-control-file border p-1 rounded" id="author_picture" name="author_picture" accept="image/*">
                            <small class="form-text text-muted">Leave empty to keep the current picture.</small>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="author_profile" class="font-weight-bold">Professional Profile</label>
                    <textarea class="form-control" id="author_profile" name="author_profile" rows="4" required>{{ author.profile }}</textarea>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="author_education" class="font-weight-bold">Education</label>
                            <textarea class="form-control" id="author_education" name="author_education" rows="3" required>{{ author.education }}</textarea>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="author_skills" class="font-weight-bold">Technical Skills</label>
                            <textarea class="form-control" id="author_skills" name="author_skills" rows="3" required>{{ author.skills }}</textarea>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="author_experience" class="font-weight-bold">Experience and Internships</label>
                    <textarea class="form-control" id="author_experience" name="author_experience" rows="3" required>{{ author.experience }}</textarea>
                </div>

                <div class="row mt-4">
                    <div class="col-md-6">
                        <button type="submit" class="btn btn-success btn-block font-weight-bold py-2">
                            <i class="fas fa-save mr-2"></i>Save Changes
                        </button>
                    </div>
                    <div class="col-md-6">
                        <a href="{{ url_for('admin.authors') }}" class="btn btn-light btn-block font-weight-bold py-2 border">
                            Cancel
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
